using System.Collections;
using System.Collections.Generic;
using System.IO;
using System.Text;
using AnimGenerator;
using UnityEngine;
using UnityEngine.UI;

namespace CreateMat
{
    public class ActionPreviewManager : MonoBehaviour
    {
        public GameObject actionPreviewPanel, canvas;
        public Interpreter interpreter1, interpreter2, interpreter3, 
            interpreter4, interpreter5, interpreter6, 
            interpreter7, interpreter8, interpreter9;
        public Interpreter interpreterShowAnimation;
        public Button buttonAnimationPreview1, buttonAnimationPreview2, buttonAnimationPreview3,
            buttonAnimationPreview4, buttonAnimationPreview5, buttonAnimationPreview6,
            buttonAnimationPreview7, buttonAnimationPreview8, buttonAnimationPreview9;

        //public Button buttonCreate, buttonClose, buttonCancel, buttonBack;
        public Button buttonCreate, buttonCancel;
        private Coroutine _coroutine;

        private string _jsonFileName;

        // Start is called before the first frame update
        private void Start()
        {
            //status = UIStatus.UnShow;
            //buttonClose.onClick.AddListener(CloseActionPreviewPanel);
            buttonCancel.onClick.AddListener(CloseActionPreviewPanel);
            //buttonBack.onClick.AddListener(CloseActionPreviewPanel);
            buttonCreate.onClick.AddListener(CreateActor);
            //InitPreviewActionJsonFiles();
            buttonAnimationPreview1.onClick.AddListener(delegate
            {
                ShowSelectedAnimationPreview("默认");
            });
            buttonAnimationPreview2.onClick.AddListener(delegate
            {
                ShowSelectedAnimationPreview("走路");
            });
            buttonAnimationPreview3.onClick.AddListener(delegate
            {
                ShowSelectedAnimationPreview("跑步");
            });
            buttonAnimationPreview4.onClick.AddListener(delegate
            {
                ShowSelectedAnimationPreview("跳跃");
            });
            buttonAnimationPreview5.onClick.AddListener(delegate
            {
                ShowSelectedAnimationPreview("摔倒");
            });
            buttonAnimationPreview6.onClick.AddListener(delegate
            {
                ShowSelectedAnimationPreview("飞行");
            });
            buttonAnimationPreview7.onClick.AddListener(delegate
            {
                ShowSelectedAnimationPreview("说话");
            });
            buttonAnimationPreview8.onClick.AddListener(delegate
            {
                ShowSelectedAnimationPreview("变大");
            });
            buttonAnimationPreview9.onClick.AddListener(delegate
            {
                ShowSelectedAnimationPreview("变小");
            });
            // InitPreviewAnimations();
        }

        private enum UIStatus
        {
            Show,
            UnShow
        }

        private UIStatus _uiStatus;

        private UIStatus status
        {
            get => _uiStatus;
            set
            {
                _uiStatus = value;
                UpdateUI();
            }
        }

        private void UpdateUI()
        {
            actionPreviewPanel.SetActive(_uiStatus == UIStatus.Show);
        }

        // 打开人物动作预览界面
        public void ShowActionPreviewPanel()
        {
            status = UIStatus.Show;
            PlayPreviewAnimation();
        }

        // 关闭人物动作预览界面
        private void CloseActionPreviewPanel()
        {
            status = UIStatus.UnShow;
            StopAnimationPreview();
            //canvas.GetComponent<SceneCreateActor>().ShowCreateMaterialPanel();
        }

        /// <summary>
        /// 将序列化的json字符串内容写入Json文件，并且保存
        /// </summary>
        /// <param name="path">路径</param>
        /// <param name="jsonContent">Json内容</param>
        private static void WriteJsonFile(string path, string jsonContent)
        {
            using var fs = new FileStream(path, FileMode.OpenOrCreate, System.IO.FileAccess.ReadWrite, FileShare.ReadWrite);
            fs.Seek(0, SeekOrigin.Begin);
            fs.SetLength(0);
            using var sw = new StreamWriter(fs, Encoding.UTF8);
            sw.WriteLine(jsonContent);
        }

        // 制作动画的 json 文件
        // todo 调整文件内容
        public void InitPreviewActionJsonFiles(string matName)
        {
            //读取previewjson文件
            WriteJsonFile($"{Application.persistentDataPath}/previewJson/default.json", "{\n    \"keyFrames\": [\n        {\n            \"action\": 3,\n            \"type\": 2,\n            \"name\": \"2023219214215_story0\",\n            \"goname\": \"\",\n            \"timestamp\": 0.0,\n            \"startpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"duration\": 4.0,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 4,\n            \"type\": 2,\n            \"name\": \"defaultBkg\",\n            \"goname\": \"\",\n            \"timestamp\": 0.0,\n            \"startpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"duration\": 0.000266471267,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 0,\n            \"type\": 2,\n            \"name\": \""+matName+"\",\n            \"goname\": \""+matName+"1\",\n            \"timestamp\": 0.000266471267,\n            \"startpos\": [\n                391.712916,\n                70.052864,\n                0.0\n            ],\n            \"endpos\": [\n                391.712916,\n                70.052864,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                -80.0,\n                80.0,\n                80.0\n            ],\n            \"endscale\": [\n                -80.0,\n                80.0,\n                80.0\n            ],\n            \"duration\": 0.0,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 2,\n            \"type\": 2,\n            \"name\": \""+matName+"\",\n            \"goname\": \""+matName+"1\",\n            \"timestamp\": 0.002931184,\n            \"startpos\": [\n                391.712916,\n                70.052864,\n                0.0\n            ],\n            \"endpos\": [\n                391.712916,\n                70.052864,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                -80.0,\n                80.0,\n                80.0\n            ],\n            \"endscale\": [\n                -80.0,\n                80.0,\n                80.0\n            ],\n            \"duration\": 3.997069,\n            \"content\": \"db_default\",\n            \"loop\": 1,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        }\n    ]\n}");
            WriteJsonFile($"{Application.persistentDataPath}/previewJson/walk.json", "{\n    \"keyFrames\": [\n        {\n            \"action\": 3,\n            \"type\": 2,\n            \"name\": \"2023215174411_story0\",\n            \"goname\": \"\",\n            \"timestamp\": 0.0,\n            \"startpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"duration\": 4.0,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 4,\n            \"type\": 2,\n            \"name\": \"defaultBkg\",\n            \"goname\": \"\",\n            \"timestamp\": 0.0,\n            \"startpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"duration\": 0.000266471267,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 0,\n            \"type\": 2,\n            \"name\": \""+matName+"\",\n            \"goname\": \""+matName+"1\",\n            \"timestamp\": 0.000266471267,\n            \"startpos\": [\n                261.712916,\n                70.052864,\n                0.0\n            ],\n            \"endpos\": [\n                521.712916,\n                70.052864,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                -80.0,\n                80.0,\n                80.0\n            ],\n            \"endscale\": [\n                -80.0,\n                80.0,\n                80.0\n            ],\n            \"duration\": 0.0,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 2,\n            \"type\": 2,\n            \"name\": \""+matName+"\",\n            \"goname\": \""+matName+"1\",\n            \"timestamp\": 0.002931184,\n            \"startpos\": [\n                261.712916,\n                70.052864,\n                0.0\n            ],\n            \"endpos\": [\n                521.712916,\n                70.052864,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                -80.0,\n                80.0,\n                80.0\n            ],\n            \"endscale\": [\n                -80.0,\n                80.0,\n                80.0\n            ],\n            \"duration\": 3.95709825,\n            \"content\": \"db_walk\",\n            \"loop\": 1,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        }\n    ]\n}");
            WriteJsonFile($"{Application.persistentDataPath}/previewJson/run.json", "{\n    \"keyFrames\": [\n        {\n            \"action\": 3,\n            \"type\": 2,\n            \"name\": \"2023220143521_story0\",\n            \"goname\": \"\",\n            \"timestamp\": 0.0,\n            \"startpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"duration\": 4.0,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 4,\n            \"type\": 2,\n            \"name\": \"defaultBkg\",\n            \"goname\": \"\",\n            \"timestamp\": 0.0,\n            \"startpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"duration\": 0.000266471267,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 0,\n            \"type\": 2,\n            \"name\": \""+matName+"\",\n            \"goname\": \""+matName+"1\",\n            \"timestamp\": 0.000266471267,\n            \"startpos\": [\n                261.712916,\n                70.052864,\n                0.0\n            ],\n            \"endpos\": [\n                521.712916,\n                70.052864,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                -80.0,\n                80.0,\n                80.0\n            ],\n            \"endscale\": [\n                -80.0,\n                80.0,\n                80.0\n            ],\n            \"duration\": 0.0,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 2,\n            \"type\": 2,\n            \"name\": \""+matName+"\",\n            \"goname\": \""+matName+"1\",\n            \"timestamp\": 0.002931184,\n            \"startpos\": [\n                261.712916,\n                70.052864,\n                0.0\n            ],\n            \"endpos\": [\n                521.712916,\n                70.052864,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                -80.0,\n                80.0,\n                80.0\n            ],\n            \"endscale\": [\n                -80.0,\n                80.0,\n                80.0\n            ],\n            \"duration\": 3.95709825,\n            \"content\": \"db_walk\",\n            \"loop\": 1,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        }\n    ]\n}");
            WriteJsonFile($"{Application.persistentDataPath}/previewJson/jump.json", "{\n    \"keyFrames\": [\n        {\n            \"action\": 3,\n            \"type\": 2,\n            \"name\": \"2023219214811_story0\",\n            \"goname\": \"\",\n            \"timestamp\": 0.0,\n            \"startpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"duration\": 3.0,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 4,\n            \"type\": 2,\n            \"name\": \"defaultBkg\",\n            \"goname\": \"\",\n            \"timestamp\": 0.0,\n            \"startpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"duration\": 0.000199853443,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 0,\n            \"type\": 2,\n            \"name\": \""+matName+"\",\n            \"goname\": \""+matName+"1\",\n            \"timestamp\": 0.000199853443,\n            \"startpos\": [\n                391.712916,\n                70.052864,\n                0.0\n            ],\n            \"endpos\": [\n                391.712916,\n                70.052864,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                -80.0,\n                80.0,\n                80.0\n            ],\n            \"endscale\": [\n                -80.0,\n                80.0,\n                80.0\n            ],\n            \"duration\": 0.0,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 2,\n            \"type\": 2,\n            \"name\": \""+matName+"\",\n            \"goname\": \""+matName+"1\",\n            \"timestamp\": 0.00219838787,\n            \"startpos\": [\n                391.712916,\n                70.052864,\n                0.0\n            ],\n            \"endpos\": [\n                391.712916,\n                70.052864,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                -80.0,\n                80.0,\n                80.0\n            ],\n            \"endscale\": [\n                -80.0,\n                80.0,\n                80.0\n            ],\n            \"duration\": 2.99780178,\n            \"content\": \"db_jump\",\n            \"loop\": 1,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        }\n    ]\n}");
            WriteJsonFile($"{Application.persistentDataPath}/previewJson/fall.json", "{\n    \"keyFrames\": [\n        {\n            \"action\": 3,\n            \"type\": 2,\n            \"name\": \"2023215175228_story0\",\n            \"goname\": \"\",\n            \"timestamp\": 0.0,\n            \"startpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"duration\": 3.0,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 4,\n            \"type\": 2,\n            \"name\": \"defaultBkg\",\n            \"goname\": \"\",\n            \"timestamp\": 0.0,\n            \"startpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"duration\": 0.000199853443,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 0,\n            \"type\": 2,\n            \"name\": \""+matName+"\",\n            \"goname\": \""+matName+"1\",\n            \"timestamp\": 0.000199853443,\n            \"startpos\": [\n                471.712916,\n                120.052864,\n                0.0\n            ],\n            \"endpos\": [\n                471.712916,\n                120.052864,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                -80.0,\n                80.0,\n                80.0\n            ],\n            \"endscale\": [\n                -80.0,\n                80.0,\n                80.0\n            ],\n            \"duration\": 0.0,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 2,\n            \"type\": 2,\n            \"name\": \""+matName+"\",\n            \"goname\": \""+matName+"1\",\n            \"timestamp\": 0.00219838787,\n            \"startpos\": [\n                471.712916,\n                120.052864,\n                0.0\n            ],\n            \"endpos\": [\n                471.712916,\n                120.052864,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                90.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                90.0\n            ],\n            \"startscale\": [\n                -80.0,\n                80.0,\n                80.0\n            ],\n            \"endscale\": [\n                -80.0,\n                80.0,\n                80.0\n            ],\n            \"duration\": 2.99780178,\n            \"content\": \"\",\n            \"loop\": 1,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        }\n    ]\n}");
            WriteJsonFile($"{Application.persistentDataPath}/previewJson/fly.json", "{\n    \"keyFrames\": [\n        {\n            \"action\": 3,\n            \"type\": 2,\n            \"name\": \"202321517488_story0\",\n            \"goname\": \"\",\n            \"timestamp\": 0.0,\n            \"startpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"duration\": 5.0,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 4,\n            \"type\": 2,\n            \"name\": \"defaultBkg\",\n            \"goname\": \"\",\n            \"timestamp\": 0.0,\n            \"startpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"duration\": 0.000333089061,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 0,\n            \"type\": 2,\n            \"name\": \""+matName+"\",\n            \"goname\": \""+matName+"1\",\n            \"timestamp\": 0.000333089061,\n            \"startpos\": [\n                391.712916,\n                35.052864,\n                0.0\n            ],\n            \"endpos\": [\n                391.712916,\n                35.052864,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                -80.0,\n                80.0,\n                80.0\n            ],\n            \"endscale\": [\n                -80.0,\n                80.0,\n                80.0\n            ],\n            \"duration\": 0.0,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 2,\n            \"type\": 2,\n            \"name\": \""+matName+"\",\n            \"goname\": \""+matName+"1\",\n            \"timestamp\": 0.00366398,\n            \"startpos\": [\n                391.712916,\n                35.052864,\n                0.0\n            ],\n            \"endpos\": [\n                442.9508247,\n                208.368576,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                -80.0,\n                80.0,\n                80.0\n            ],\n            \"endscale\": [\n                -80.0,\n                80.0,\n                80.0\n            ],\n            \"duration\": 4.996336,\n            \"content\": \"db_walk\",\n            \"loop\": 1,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        }\n    ]\n}");
            WriteJsonFile($"{Application.persistentDataPath}/previewJson/speak.json", "{\n    \"keyFrames\": [\n        {\n            \"action\": 3,\n            \"type\": 2,\n            \"name\": \"2023219214811_story0\",\n            \"goname\": \"\",\n            \"timestamp\": 0.0,\n            \"startpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"duration\": 3.0,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 4,\n            \"type\": 2,\n            \"name\": \"defaultBkg\",\n            \"goname\": \"\",\n            \"timestamp\": 0.0,\n            \"startpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"duration\": 0.000199853443,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 0,\n            \"type\": 2,\n            \"name\": \""+matName+"\",\n            \"goname\": \""+matName+"1\",\n            \"timestamp\": 0.000199853443,\n            \"startpos\": [\n                391.712916,\n                70.052864,\n                0.0\n            ],\n            \"endpos\": [\n                391.712916,\n                70.052864,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                -80.0,\n                80.0,\n                80.0\n            ],\n            \"endscale\": [\n                -80.0,\n                80.0,\n                80.0\n            ],\n            \"duration\": 0.0,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 2,\n            \"type\": 2,\n            \"name\": \""+matName+"\",\n            \"goname\": \""+matName+"1\",\n            \"timestamp\": 0.274725825,\n            \"startpos\": [\n                391.712916,\n                70.052864,\n                0.0\n            ],\n            \"endpos\": [\n                391.712916,\n                70.052864,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                -80.0,\n                80.0,\n                80.0\n            ],\n            \"endscale\": [\n                -80.0,\n                80.0,\n                80.0\n            ],\n            \"duration\": 2.72527432,\n            \"content\": \"db_speak\",\n            \"loop\": 1,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        }\n    ]\n}");
            WriteJsonFile($"{Application.persistentDataPath}/previewJson/bigger.json", "{\n    \"keyFrames\": [\n        {\n            \"action\": 3,\n            \"type\": 2,\n            \"name\": \"2023219214811_story0\",\n            \"goname\": \"\",\n            \"timestamp\": 0.0,\n            \"startpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"duration\": 3.0,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 4,\n            \"type\": 2,\n            \"name\": \"defaultBkg\",\n            \"goname\": \"\",\n            \"timestamp\": 0.0,\n            \"startpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"duration\": 0.000199853443,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 0,\n            \"type\": 2,\n            \"name\": \""+matName+"\",\n            \"goname\": \""+matName+"1\",\n            \"timestamp\": 0.000199853443,\n            \"startpos\": [\n                391.712916,\n                70.052864,\n                0.0\n            ],\n            \"endpos\": [\n                391.712916,\n                70.052864,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                -80.0,\n                80.0,\n                80.0\n            ],\n            \"endscale\": [\n                -80.0,\n                80.0,\n                80.0\n            ],\n            \"duration\": 0.0,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 2,\n            \"type\": 2,\n            \"name\": \""+matName+"\",\n            \"goname\": \""+matName+"1\",\n            \"timestamp\": 0.00219838787,\n            \"startpos\": [\n                391.712916,\n                70.052864,\n                0.0\n            ],\n            \"endpos\": [\n                391.712916,\n                70.052864,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                -120.0,\n                120.0,\n                120.0\n            ],\n            \"endscale\": [\n                -120.0,\n                120.0,\n                120.0\n            ],\n            \"duration\": 0.0,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 2,\n            \"type\": 2,\n            \"name\": \""+matName+"\",\n            \"goname\": \""+matName+"1\",\n            \"timestamp\": 0.274725825,\n            \"startpos\": [\n                391.712916,\n                70.052864,\n                0.0\n            ],\n            \"endpos\": [\n                391.712916,\n                70.052864,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                -120.0,\n                120.0,\n                120.0\n            ],\n            \"endscale\": [\n                -120.0,\n                120.0,\n                120.0\n            ],\n            \"duration\": 2.72527432,\n            \"content\": \"db_default\",\n            \"loop\": 1,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        }\n    ]\n}");
            WriteJsonFile($"{Application.persistentDataPath}/previewJson/smaller.json", "{\n    \"keyFrames\": [\n        {\n            \"action\": 3,\n            \"type\": 2,\n            \"name\": \"2023219214811_story0\",\n            \"goname\": \"\",\n            \"timestamp\": 0.0,\n            \"startpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"duration\": 4.0,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 4,\n            \"type\": 2,\n            \"name\": \"defaultBkg\",\n            \"goname\": \"\",\n            \"timestamp\": 0.0,\n            \"startpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"duration\": 0.000266471267,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 0,\n            \"type\": 2,\n            \"name\": \""+matName+"\",\n            \"goname\": \""+matName+"1\",\n            \"timestamp\": 0.000266471267,\n            \"startpos\": [\n                391.712916,\n                70.052864,\n                0.0\n            ],\n            \"endpos\": [\n                391.712916,\n                70.052864,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                -80.0,\n                80.0,\n                80.0\n            ],\n            \"endscale\": [\n                -80.0,\n                80.0,\n                80.0\n            ],\n            \"duration\": 0.0,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 2,\n            \"type\": 2,\n            \"name\": \""+matName+"\",\n            \"goname\": \""+matName+"1\",\n            \"timestamp\": 0.002931184,\n            \"startpos\": [\n                391.712916,\n                70.052864,\n                0.0\n            ],\n            \"endpos\": [\n                391.712916,\n                70.052864,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                -40.0,\n                40.0,\n                40.0\n            ],\n            \"endscale\": [\n                -40.0,\n                40.0,\n                40.0\n            ],\n            \"duration\": 0.0,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 2,\n            \"type\": 2,\n            \"name\": \""+matName+"\",\n            \"goname\": \""+matName+"1\",\n            \"timestamp\": 0.366301119,\n            \"startpos\": [\n                391.712916,\n                70.052864,\n                0.0\n            ],\n            \"endpos\": [\n                391.712916,\n                70.052864,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                -40.0,\n                40.0,\n                40.0\n            ],\n            \"endscale\": [\n                -40.0,\n                40.0,\n                40.0\n            ],\n            \"duration\": 3.63369942,\n            \"content\": \"db_default\",\n            \"loop\": 1,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        }\n    ]\n}");
        
            WriteJsonFile($"{Application.persistentDataPath}/previewJson/default_preview.json", "{\n    \"keyFrames\": [\n        {\n            \"action\": 3,\n            \"type\": 2,\n            \"name\": \"2023219214215_story0\",\n            \"goname\": \"\",\n            \"timestamp\": 0.0,\n            \"startpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"duration\": 4.0,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 4,\n            \"type\": 2,\n            \"name\": \"defaultBkg\",\n            \"goname\": \"\",\n            \"timestamp\": 0.0,\n            \"startpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"duration\": 0.000266471267,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 0,\n            \"type\": 2,\n            \"name\": \""+matName+"\",\n            \"goname\": \""+matName+"1\",\n            \"timestamp\": 0.000266471267,\n            \"startpos\": [\n                -267.712916,\n                285.052864,\n                0.0\n            ],\n            \"endpos\": [\n                -267.712916,\n                285.052864,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                -30.0,\n                30.0,\n                30.0\n            ],\n            \"endscale\": [\n                -30.0,\n                30.0,\n                30.0\n            ],\n            \"duration\": 0.0,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 2,\n            \"type\": 2,\n            \"name\": \""+matName+"\",\n            \"goname\": \""+matName+"1\",\n            \"timestamp\": 0.002931184,\n            \"startpos\": [\n                -267.712916,\n                285.052864,\n                0.0\n            ],\n            \"endpos\": [\n                -267.712916,\n                285.052864,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                -30.0,\n                30.0,\n                30.0\n            ],\n            \"endscale\": [\n                -30.0,\n                30.0,\n                30.0\n            ],\n            \"duration\": 3.997069,\n            \"content\": \"db_default\",\n            \"loop\": 1,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        }\n    ]\n}");
            WriteJsonFile($"{Application.persistentDataPath}/previewJson/walk_preview.json", "{\n    \"keyFrames\": [\n        {\n            \"action\": 3,\n            \"type\": 2,\n            \"name\": \"2023215174411_story0\",\n            \"goname\": \"\",\n            \"timestamp\": 0.0,\n            \"startpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"duration\": 4.0,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 4,\n            \"type\": 2,\n            \"name\": \"defaultBkg\",\n            \"goname\": \"\",\n            \"timestamp\": 0.0,\n            \"startpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"duration\": 0.000266471267,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 0,\n            \"type\": 2,\n            \"name\": \""+matName+"\",\n            \"goname\": \""+matName+"1\",\n            \"timestamp\": 0.000266471267,\n            \"startpos\": [\n                -163.712916,\n                285.052864,\n                0.0\n            ],\n            \"endpos\": [\n                -105.712916,\n                285.052864,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                -30.0,\n                30.0,\n                30.0\n            ],\n            \"endscale\": [\n                -30.0,\n                30.0,\n                30.0\n            ],\n            \"duration\": 0.0,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 2,\n            \"type\": 2,\n            \"name\": \""+matName+"\",\n            \"goname\": \""+matName+"1\",\n            \"timestamp\": 0.002931184,\n            \"startpos\": [\n                -163.712916,\n                285.052864,\n                0.0\n            ],\n            \"endpos\": [\n                -105.712916,\n                285.052864,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                -30.0,\n                30.0,\n                30.0\n            ],\n            \"endscale\": [\n                -30.0,\n                30.0,\n                30.0\n            ],\n            \"duration\": 3.95709825,\n            \"content\": \"db_walk\",\n            \"loop\": 1,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        }\n    ]\n}\n");
            WriteJsonFile($"{Application.persistentDataPath}/previewJson/run_preview.json", "{\n    \"keyFrames\": [\n        {\n            \"action\": 3,\n            \"type\": 2,\n            \"name\": \"2023220143521_story0\",\n            \"goname\": \"\",\n            \"timestamp\": 0.0,\n            \"startpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"duration\": 4.0,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 4,\n            \"type\": 2,\n            \"name\": \"defaultBkg\",\n            \"goname\": \"\",\n            \"timestamp\": 0.0,\n            \"startpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"duration\": 0.000266471267,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 0,\n            \"type\": 2,\n            \"name\": \""+matName+"\",\n            \"goname\": \""+matName+"1\",\n            \"timestamp\": 0.000266471267,\n            \"startpos\": [\n                -28.712916,\n                285.052864,\n                0.0\n            ],\n            \"endpos\": [\n                30.712916,\n                285.052864,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                -30.0,\n                30.0,\n                30.0\n            ],\n            \"endscale\": [\n                -30.0,\n                30.0,\n                30.0\n            ],\n            \"duration\": 0.0,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 2,\n            \"type\": 2,\n            \"name\": \""+matName+"\",\n            \"goname\": \""+matName+"1\",\n            \"timestamp\": 0.002931184,\n            \"startpos\": [\n                -28.712916,\n                285.052864,\n                0.0\n            ],\n            \"endpos\": [\n                30.712916,\n                285.052864,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                -30.0,\n                30.0,\n                30.0\n            ],\n            \"endscale\": [\n                -30.0,\n                30.0,\n                30.0\n            ],\n            \"duration\": 3.95709825,\n            \"content\": \"db_walk\",\n            \"loop\": 1,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        }\n    ]\n}");
            WriteJsonFile($"{Application.persistentDataPath}/previewJson/jump_preview.json", "{\n    \"keyFrames\": [\n        {\n            \"action\": 3,\n            \"type\": 2,\n            \"name\": \"2023219214811_story0\",\n            \"goname\": \"\",\n            \"timestamp\": 0.0,\n            \"startpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"duration\": 3.0,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 4,\n            \"type\": 2,\n            \"name\": \"defaultBkg\",\n            \"goname\": \"\",\n            \"timestamp\": 0.0,\n            \"startpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"duration\": 0.000199853443,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 0,\n            \"type\": 2,\n            \"name\": \""+matName+"\",\n            \"goname\": \""+matName+"1\",\n            \"timestamp\": 0.000199853443,\n            \"startpos\": [\n                -267.712916,\n                126.052864,\n                0.0\n            ],\n            \"endpos\": [\n                -267.712916,\n                126.052864,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                -30.0,\n                30.0,\n                30.0\n            ],\n            \"endscale\": [\n                -30.0,\n                30.0,\n                30.0\n            ],\n            \"duration\": 0.0,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 2,\n            \"type\": 2,\n            \"name\": \""+matName+"\",\n            \"goname\": \""+matName+"1\",\n            \"timestamp\": 0.00219838787,\n            \"startpos\": [\n                -267.712916,\n                126.052864,\n                0.0\n            ],\n            \"endpos\": [\n                -267.712916,\n                126.052864,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                -30.0,\n                30.0,\n                30.0\n            ],\n            \"endscale\": [\n                -30.0,\n                30.0,\n                30.0\n            ],\n            \"duration\": 2.99780178,\n            \"content\": \"db_jump\",\n            \"loop\": 1,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        }\n    ]\n}");
            WriteJsonFile($"{Application.persistentDataPath}/previewJson/fall_preview.json", "{\n    \"keyFrames\": [\n        {\n            \"action\": 3,\n            \"type\": 2,\n            \"name\": \"2023215175228_story0\",\n            \"goname\": \"\",\n            \"timestamp\": 0.0,\n            \"startpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"duration\": 3.0,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 4,\n            \"type\": 2,\n            \"name\": \"defaultBkg\",\n            \"goname\": \"\",\n            \"timestamp\": 0.0,\n            \"startpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"duration\": 0.000199853443,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 0,\n            \"type\": 2,\n            \"name\": \""+matName+"\",\n            \"goname\": \""+matName+"1\",\n            \"timestamp\": 0.000199853443,\n            \"startpos\": [\n                -102.712916,\n                141.052864,\n                0.0\n            ],\n            \"endpos\": [\n                -102.712916,\n                141.052864,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                -30.0,\n                30.0,\n                30.0\n            ],\n            \"endscale\": [\n                -30.0,\n                30.0,\n                30.0\n            ],\n            \"duration\": 0.0,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 2,\n            \"type\": 2,\n            \"name\": \""+matName+"\",\n            \"goname\": \""+matName+"1\",\n            \"timestamp\": 0.00219838787,\n            \"startpos\": [\n                -102.712916,\n                141.052864,\n                0.0\n            ],\n            \"endpos\": [\n                -102.712916,\n                141.052864,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                90.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                90.0\n            ],\n            \"startscale\": [\n                -30.0,\n                30.0,\n                30.0\n            ],\n            \"endscale\": [\n                -30.0,\n                30.0,\n                30.0\n            ],\n            \"duration\": 2.99780178,\n            \"content\": \"\",\n            \"loop\": 1,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        }\n    ]\n}");
            WriteJsonFile($"{Application.persistentDataPath}/previewJson/fly_preview.json", "{\n    \"keyFrames\": [\n        {\n            \"action\": 3,\n            \"type\": 2,\n            \"name\": \"202321517488_story0\",\n            \"goname\": \"\",\n            \"timestamp\": 0.0,\n            \"startpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"duration\": 5.0,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 4,\n            \"type\": 2,\n            \"name\": \"defaultBkg\",\n            \"goname\": \"\",\n            \"timestamp\": 0.0,\n            \"startpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"duration\": 0.000333089061,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 0,\n            \"type\": 2,\n            \"name\": \""+matName+"\",\n            \"goname\": \""+matName+"1\",\n            \"timestamp\": 0.000333089061,\n            \"startpos\": [\n                3.712916,\n                111.052864,\n                0.0\n            ],\n            \"endpos\": [\n                3.712916,\n                111.052864,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                -30.0,\n                30.0,\n                30.0\n            ],\n            \"endscale\": [\n                -30.0,\n                30.0,\n                30.0\n            ],\n            \"duration\": 0.0,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 2,\n            \"type\": 2,\n            \"name\": \""+matName+"\",\n            \"goname\": \""+matName+"1\",\n            \"timestamp\": 0.00366398,\n            \"startpos\": [\n                3.712916,\n                111.052864,\n                0.0\n            ],\n            \"endpos\": [\n                16.9508247,\n                151.368576,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                -30.0,\n                30.0,\n                30.0\n            ],\n            \"endscale\": [\n                -30.0,\n                30.0,\n                30.0\n            ],\n            \"duration\": 4.996336,\n            \"content\": \"db_walk\",\n            \"loop\": 1,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        }\n    ]\n}");
            WriteJsonFile($"{Application.persistentDataPath}/previewJson/speak_preview.json", "{\n    \"keyFrames\": [\n        {\n            \"action\": 3,\n            \"type\": 2,\n            \"name\": \"2023219214811_story0\",\n            \"goname\": \"\",\n            \"timestamp\": 0.0,\n            \"startpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"duration\": 3.0,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 4,\n            \"type\": 2,\n            \"name\": \"defaultBkg\",\n            \"goname\": \"\",\n            \"timestamp\": 0.0,\n            \"startpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"duration\": 0.000199853443,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 0,\n            \"type\": 2,\n            \"name\": \""+matName+"\",\n            \"goname\": \""+matName+"1\",\n            \"timestamp\": 0.000199853443,\n            \"startpos\": [\n                -267.712916,\n                -33.052864,\n                0.0\n            ],\n            \"endpos\": [\n                -267.712916,\n                -33.052864,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                -30.0,\n                30.0,\n                30.0\n            ],\n            \"endscale\": [\n                -30.0,\n                30.0,\n                30.0\n            ],\n            \"duration\": 0.0,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 2,\n            \"type\": 2,\n            \"name\": \""+matName+"\",\n            \"goname\": \""+matName+"1\",\n            \"timestamp\": 0.274725825,\n            \"startpos\": [\n                -267.712916,\n                -33.052864,\n                0.0\n            ],\n            \"endpos\": [\n                -267.712916,\n                -33.052864,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                -30.0,\n                30.0,\n                30.0\n            ],\n            \"endscale\": [\n                -30.0,\n                30.0,\n                30.0\n            ],\n            \"duration\": 2.72527432,\n            \"content\": \"db_speak\",\n            \"loop\": 1,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        }\n    ]\n}");
            WriteJsonFile($"{Application.persistentDataPath}/previewJson/bigger_preview.json", "{\n    \"keyFrames\": [\n        {\n            \"action\": 3,\n            \"type\": 2,\n            \"name\": \"2023219214811_story0\",\n            \"goname\": \"\",\n            \"timestamp\": 0.0,\n            \"startpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"duration\": 3.0,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 4,\n            \"type\": 2,\n            \"name\": \"defaultBkg\",\n            \"goname\": \"\",\n            \"timestamp\": 0.0,\n            \"startpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"duration\": 0.000199853443,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 0,\n            \"type\": 2,\n            \"name\": \""+matName+"\",\n            \"goname\": \""+matName+"1\",\n            \"timestamp\": 0.000199853443,\n            \"startpos\": [\n                -132.712916,\n                -33.052864,\n                0.0\n            ],\n            \"endpos\": [\n                -132.712916,\n                -33.052864,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                -30.0,\n                30.0,\n                30.0\n            ],\n            \"endscale\": [\n                -30.0,\n                30.0,\n                30.0\n            ],\n            \"duration\": 0.0,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 2,\n            \"type\": 2,\n            \"name\": \""+matName+"\",\n            \"goname\": \""+matName+"1\",\n            \"timestamp\": 0.00219838787,\n            \"startpos\": [\n                -132.712916,\n                -33.052864,\n                0.0\n            ],\n            \"endpos\": [\n                -132.712916,\n                -33.052864,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                -45.0,\n                45.0,\n                45.0\n            ],\n            \"endscale\": [\n                -45.0,\n                45.0,\n                45.0\n            ],\n            \"duration\": 0.0,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 2,\n            \"type\": 2,\n            \"name\": \""+matName+"\",\n            \"goname\": \""+matName+"1\",\n            \"timestamp\": 0.274725825,\n            \"startpos\": [\n                -132.712916,\n                -33.052864,\n                0.0\n            ],\n            \"endpos\": [\n                -132.712916,\n                -33.052864,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                -45.0,\n                45.0,\n                45.0\n            ],\n            \"endscale\": [\n                -45.0,\n                45.0,\n                45.0\n            ],\n            \"duration\": 2.72527432,\n            \"content\": \"db_default\",\n            \"loop\": 1,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        }\n    ]\n}");
            WriteJsonFile($"{Application.persistentDataPath}/previewJson/smaller_preview.json", "{\n    \"keyFrames\": [\n        {\n            \"action\": 3,\n            \"type\": 2,\n            \"name\": \"2023219214811_story0\",\n            \"goname\": \"\",\n            \"timestamp\": 0.0,\n            \"startpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"duration\": 4.0,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 4,\n            \"type\": 2,\n            \"name\": \"defaultBkg\",\n            \"goname\": \"\",\n            \"timestamp\": 0.0,\n            \"startpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endpos\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endscale\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"duration\": 0.000266471267,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 0,\n            \"type\": 2,\n            \"name\": \""+matName+"\",\n            \"goname\": \""+matName+"1\",\n            \"timestamp\": 0.000266471267,\n            \"startpos\": [\n                3.712916,\n                -33.052864,\n                0.0\n            ],\n            \"endpos\": [\n                3.712916,\n                -33.052864,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                -30.0,\n                30.0,\n                30.0\n            ],\n            \"endscale\": [\n                -30.0,\n                30.0,\n                30.0\n            ],\n            \"duration\": 0.0,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 2,\n            \"type\": 2,\n            \"name\": \""+matName+"\",\n            \"goname\": \""+matName+"1\",\n            \"timestamp\": 0.002931184,\n            \"startpos\": [\n                3.712916,\n                -33.052864,\n                0.0\n            ],\n            \"endpos\": [\n                3.712916,\n                -33.052864,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                -15.0,\n                15.0,\n                15.0\n            ],\n            \"endscale\": [\n                -15.0,\n                15.0,\n                15.0\n            ],\n            \"duration\": 0.0,\n            \"content\": \"\",\n            \"loop\": 0,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        },\n        {\n            \"action\": 2,\n            \"type\": 2,\n            \"name\": \""+matName+"\",\n            \"goname\": \""+matName+"1\",\n            \"timestamp\": 0.366301119,\n            \"startpos\": [\n                3.712916,\n                -33.052864,\n                0.0\n            ],\n            \"endpos\": [\n                3.712916,\n                -33.052864,\n                0.0\n            ],\n            \"startrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"endrotation\": [\n                0.0,\n                0.0,\n                0.0\n            ],\n            \"startscale\": [\n                -15.0,\n                15.0,\n                15.0\n            ],\n            \"endscale\": [\n                -15.0,\n                15.0,\n                15.0\n            ],\n            \"duration\": 3.63369942,\n            \"content\": \"db_default\",\n            \"loop\": 1,\n            \"color\": [\n                0.0,\n                0.0,\n                0.0\n            ]\n        }\n    ]\n}");
        
            WriteJsonFile($"{Application.persistentDataPath}/previewJson/stop.json", "{\n    \"keyFrames\": []\n}\n");
        }

    
        // 打开人物动作预览界面，自动播放预览动画
        private void PlayPreviewAnimation()
        {
            _coroutine = StartCoroutine(PreviewAnimation());
        }

        // todo 更新第 7～9 个预览文件的名称
        private IEnumerator PreviewAnimation()
        {
            int loopCnt = 0;
            // 限制循环播放的次数，防止 Unity 崩溃（内存溢出吗？..未经证实）
            while (loopCnt <= 100)
            {
                interpreter1.clearScene();
                interpreter1.setJsonFileName("previewJson/default_preview");
                interpreter2.clearScene();
                interpreter2.setJsonFileName("previewJson/walk_preview");
                interpreter3.clearScene();
                interpreter3.setJsonFileName("previewJson/run_preview");
                interpreter4.clearScene();
                interpreter4.setJsonFileName("previewJson/jump_preview");
                interpreter5.clearScene();
                interpreter5.setJsonFileName("previewJson/fall_preview");
                interpreter6.clearScene();
                interpreter6.setJsonFileName("previewJson/fly_preview");
                interpreter7.clearScene();
                interpreter7.setJsonFileName("previewJson/speak_preview");
                interpreter8.clearScene();
                interpreter8.setJsonFileName("previewJson/bigger_preview");
                interpreter9.clearScene();
                interpreter9.setJsonFileName("previewJson/smaller_preview");
                yield return new WaitForSeconds(5f);
                interpreter1.setJsonFileName("previewJson/stop");
                interpreter2.setJsonFileName("previewJson/stop");
                interpreter3.setJsonFileName("previewJson/stop");
                interpreter4.setJsonFileName("previewJson/stop");
                interpreter5.setJsonFileName("previewJson/stop");
                interpreter6.setJsonFileName("previewJson/stop");
                interpreter7.setJsonFileName("previewJson/stop");
                interpreter8.setJsonFileName("previewJson/stop");
                interpreter9.setJsonFileName("previewJson/stop");
                yield return new WaitForSeconds(1f);
                loopCnt++;
            }
        }

        // 关闭人物预览面板，停止 coroutine
        public void StopAnimationPreview()
        {
            StopCoroutine(_coroutine);
        }

        // 销毁 coroutine
        private void OnDestroy()
        {
            if (_coroutine != null)
            {
                StopCoroutine(_coroutine);
            }
        }
        
        private void CreateActor()
        {
            canvas.GetComponent<SceneCreateActor>().CreateActor();
        }

        // 在右侧界面（大屏）展示相应的预览动作
        private void ShowSelectedAnimationPreview(string actionName)
        {
            switch (actionName)
            {
                case "默认":
                    _jsonFileName = "previewJson/default";
                    break;
                case "走路":
                    _jsonFileName = "previewJson/walk";
                    break;
                case "跑步":
                    _jsonFileName = "previewJson/run";
                    break;
                case "跳跃":
                    _jsonFileName = "previewJson/jump";
                    break;
                case "摔倒":
                    _jsonFileName = "previewJson/fall";
                    break;
                case "飞行":
                    _jsonFileName = "previewJson/fly";
                    break;
                case "说话":
                    _jsonFileName = "previewJson/speak";
                    break;
                case "变大":
                    _jsonFileName = "previewJson/bigger";
                    break;
                case "变小":
                    _jsonFileName = "previewJson/smaller";
                    break;
                default:
                    break;
            }
            interpreterShowAnimation.setJsonFileName("previewJson/stop");
            interpreterShowAnimation.clearScene();
            Invoke(nameof(PlaySelectedAnimationPreview), .5f);
        }

        private void PlaySelectedAnimationPreview()
        {
            interpreterShowAnimation.setJsonFileName(_jsonFileName);
        }
    }
}
